<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Groupes de formation</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <header class="nav-bar">
    <nav>
      <ul>
        <li><a href="index.html">ğŸ  Accueil</a></li>
        <li><a href="formations.html">ğŸ“š Formations</a></li>
        <li><a href="salaries.html">ğŸ‘¥ SalariÃ©s</a></li>
        <li><a href="plan-formation.html">ğŸ—“ï¸ Plan</a></li>
        <li><a href="groupes.html">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Groupes</a></li>
        <li><a href="convocation.html">âœ‰ï¸ Convocation</a></li>
      </ul>
    </nav>
  </header>

  <section class="formulaire-section">
    <h1>ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Composer un groupe</h1>
    <form class="formulaire" id="groupeForm" onsubmit="enregistrerGroupe(event)">
      <label>Nom du groupe</label>
      <input type="text" id="nomGroupe" required>

      <label>Formation concernÃ©e</label>
      <select id="selectFormation" required></select>

      <label>Date de la session</label>
      <input type="date" id="dateSession" required>

      <label>Formateur</label>
      <input type="text" id="formateur" required>

      <label>SalariÃ©s Ã  inclure</label>
      <div id="listeSalaries" class="multi-select"></div>

      <button type="submit">âœ… CrÃ©er le groupe</button>
    </form>

    <div id="confirmation" style="margin-top: 1rem;"></div>
  </section>

  <script>
    const formations = ["Excel avancÃ©", "Communication orale", "SÃ©curitÃ© informatique"];
    const salaries = ["Jean Dupont", "Amina Kouassi", "Maxime Leclerc", "Sophie Martin", "Ali Benkacem"];

    // Remplit la liste dÃ©roulante et les cases Ã  cocher
    window.onload = function () {
      const formationSelect = document.getElementById("selectFormation");
      formations.forEach(f => {
        const opt = document.createElement("option");
        opt.value = f;
        opt.textContent = f;
        formationSelect.appendChild(opt);
      });

      const liste = document.getElementById("listeSalaries");
      salaries.forEach(s => {
        const div = document.createElement("div");
        div.innerHTML = `<label><input type="checkbox" value="${s}"> ${s}</label>`;
        liste.appendChild(div);
      });
    };

    function enregistrerGroupe(e) {
      e.preventDefault();
      const nom = document.getElementById("nomGroupe").value;
      const formation = document.getElementById("selectFormation").value;
      const date = document.getElementById("dateSession").value;
      const formateur = document.getElementById("formateur").value;
      const checked = document.querySelectorAll("#listeSalaries input:checked");
      const membres = Array.from(checked).map(c => c.value);

      if (membres.length === 0) {
        alert("SÃ©lectionne au moins un salariÃ©.");
        return;
      }

      // Simulation d'enregistrement
      const groupe = {
        nom, formation, date, formateur, membres
      };

      // Affichage dans une div
      document.getElementById("confirmation").innerHTML = `
        <div style="background:#e0f7fa; padding:1rem; border-radius:6px;">
          âœ… Groupe <strong>${nom}</strong> crÃ©Ã© avec <strong>${membres.length}</strong> salariÃ©(s) :
          <ul>${membres.map(m => `<li>${m}</li>`).join('')}</ul>
        </div>
      `;

      document.getElementById("groupeForm").reset();
    }
  </script>

</body>
</html>
